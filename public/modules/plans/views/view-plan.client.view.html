<section data-ng-controller="PlansController" style="font-family: segui;">
<!--<div class="page-header">-->
<!--<h1>New Plan</h1>-->
<!--</div>-->
<div class="col-md-12">
    <form class="form-horizontal" data-ng-init="findOne()" novalidate>


        <fieldset>
            <div class="form-group" style="margin-bottom: 1px;">
                <div class="planDetailsSection" style="display:inline-block;vertical-align: top;">
                    <!--<label class="control-label" for="planDate">Plan Date</label>-->

                    <div class="row">
                        <div class="col-md-6" style="width: 153px;padding-top: 8px;">
                            <p class="input-group">
                               <input type="text" class="form-control" style="padding: 4px 8px;" id="planDate" datepicker-popup="{{format}}" ng-model="plan.planDateNonUtc" is-open="opened" min-date="minDate" max-date="'2015-06-22'" datepicker-options="dateOptions" date-disabled="disabled(date, mode)" ng-required="true" close-text="Close" />
                              <span class="input-group-btn">
                                <button type="button" class="btn btn-default" ng-click="open($event)"><i class="glyphicon glyphicon-calendar"></i></button>
                              </span>
                            </p>
                        </div>
                    </div>
                </div>

                <div class="planDetailsSection" style="display: inline-block; margin-top: 9px;float: right;">
                    <div style="display:inline-block">
                        <button type="button" class="btn btn-primary btn-m" style="padding: 6px 10px;"  data-ng-click="createMeal(true);">
                            <span class="glyphicon glyphicon-plus" ></span><span class="hidden-xs"> Add Meal</span>
                        </button>
                        <!--<div data-ng-show="(!plan.meals || plan.meals.length == 0) && !isLoading">-->
                            <!--<span style="font-size: 25px;" data-ng-class="{arrowImgMoveLeft: plan.moveArrowImgLeft}"  class="glyphicon glyphicon-arrow-up"></span>-->
                        <!--</div>-->
                    </div>

                    <div style="display:inline-block;vertical-align: top;">
                        <button  type="button" class="btn btn-primary btn-m " style="padding: 6px 10px;"  data-ng-click="openNotesDialog();">
                            <span class="glyphicon glyphicon-edit" ></span><span class="hidden-xs"> Open Notes</span>
                        </button>

                        <button  type="button" class="btn btn-primary btn-m  hidden-xs"  data-ng-click="collapseAllMeals(plan);">
                            <span class="glyphicon glyphicon" ></span><span >Collapse All Meals</span>
                        </button>

                        <button type="button" class="btn btn-primary btn-m hidden-sm hidden-xs"  data-ng-click="toggleSorting();">
                            <span class="glyphicon glyphicon" ></span>{{sortingBtnTxt}}
                        </button>

                        <button type="button" class="btn btn-primary btn-m" style="padding: 6px 10px;" data-ng-click="openCopyPlanDialog()">
                            <span class="glyphicon glyphicon-share" ></span><span class="hidden-xs"> Copy Plan</span>
                        </button>

                        <button  type="button" class="btn btn-primary btn-m btn-danger hidden-sm hidden-xs"  data-ng-click="deletePlan(plan)">
                            <span class="glyphicon glyphicon" ></span><span>Delete Plan</span>
                        </button>

                        <button type="submit" class="btn btn-primary btn-m" style="padding: 6px 10px;" data-ng-click="savePlan()">
                            <span class="glyphicon glyphicon-floppy-disk" ></span><span class="hidden-xs"> Save</span>
                        </button>

                    </div>
                </div>
            </div>

            <div data-ng-show="success" class="successMsgFixed" >
                <strong>Your changes have been saved!</strong>
            </div>

            <div data-ng-show="showPlanEditableErrorMsg" style="color: red; font-weight: bold; margin-bottom: 10px;">
                <strong>Please save the plan before copying it.</strong>
            </div>
        </fieldset>


        <fieldset id="wrapper" >
            <!--<div data-ng-show="(!plan.meals || plan.meals.length == 0) && !isLoading" class="emptyPlanMealsTxt">-->
                <!--Press the plus button above to create your first meal.-->
            <!--</div>-->


            <div data-ng-show="isLoading" style="height: 336px;">
                <img width="25" height="25" src="/modules/core/img/loaders/loader.gif">
            </div>


            <div data-ng-show="!isLoading" id="content" class="form-group planContent" style="overflow-y: auto;overflow-x:hidden; margin-bottom: 3px;">
                <accordion sortable="sortableOptions" disableallelementsbydefault="true" updateCallback="sortableUpdateCallback" startCallback="sortableStartCallback" rootSortableElement=".panel-group" ng-show="plan.meals.length > 0"  class="plansAccordion" style="..." close-others="oneAtATime">
                    <accordion-group data-ng-repeat="meal in plan.meals" is-open="meal.isVisible">
                        <accordion-heading>
                            <div data-ng-mouseover="meal.showEditIcon = true" data-ng-mouseleave="meal.showEditIcon = false"
                               class="accordionHeadingRegion">

                                <span style="width: 80px;" data-ng-show="meal.isEditable == false" data-ng-bind="getMealTypeName(meal.type)"></span>


                                <select class="plansDesktopBtn" ng-model="meal.type" data-ng-change="meal.isEditable = false" data-ng-click="meal.isVisible = !meal.isVisible" data-ng-show="meal.isEditable" ng-options="t.id as t.name for t in mealTypes" style="font-size: 16px;vertical-align: top;"></select>
                                <select class="plansMobileGridBtn" data-ng-change="savePlan(true);" ng-model="meal.type" data-ng-click="meal.isVisible = !meal.isVisible" data-ng-show="meal.isEditable" ng-options="t.id as t.name for t in mealTypes" style="font-size: 16px;vertical-align: top;"></select>


                                <!--<div style="margin-left: 10px;cursor:pointer;" data-ng-class="{'editRowShow': meal.showEditIcon && !meal.isEditable}" class="editRowHide">-->
                                    <!--<img  alt="Edit Meal Type" class="img-responsive text-center"  data-ng-click="editMeal(meal);" src="modules/core/img/brand/pencilIcon.png" />-->
                                <!--</div>-->
                                <div style="margin-left: 10px;cursor:pointer;" data-ng-click="editMeal(meal);" type="button" data-ng-class="{editRowShow: meal.showEditIcon && !meal.isEditable}"  class="editRowHide">
                                    <span  class="glyphicon glyphicon-pencil"></span>
                                </div>

                                <div style="margin-left: 10px;cursor:pointer;float:right;" data-ng-click="deleteMeal(meal, true);" type="button" data-ng-class="{editRowShow: meal.showEditIcon && !meal.isEditable}"  class="editRowHide">
                                    <span  class="glyphicon glyphicon-trash"></span>
                                </div>

                                <!--<input style="margin-left: 15px;float:right;" type="button" value="Delete Meal" data-ng-click="deleteMeal(meal, true);"/>-->


                            </div>
                        </accordion-heading>


                        <div class="planMealDesktop">

                            <button type="button" class="btn btn-primary btn-sm" data-ng-click="createFoodWithDialog(meal);">
                                <span class="glyphicon glyphicon-plus" ></span> Add Food
                            </button>

                            <button style="margin-left:10px;" type="button" class="btn btn-primary btn-sm" data-ng-click="openSuggestionsDialog(meal)">
                                <span class="glyphicon glyphicon-question-sign" ></span> Suggest
                            </button>

                            <div class="plansMobileGrid" style="margin-top: 5px;">
                                <ul>
                                    <li data-ng-click="createFoodWithDialog(meal, food, null, true);" data-ng-repeat="food in meal.foods" data-ng-class="{mealSuggestedHighlight: food.IsSuggested}">

                                        <div>
                                            <div class="controls"  style="font-weight: bold; font-size: 15px;">
                                                <span data-ng-bind="food.name"></span>

                                                <span class="deleteBtn" style="font-size: 16px;width: 15px;text-align: center;" data-ng-click="deleteFood(food, meal, true);">x</span>


                                            </div>
                                            <div class="controls"  style="color: rgb(211, 139, 12);padding-top: 3px;">

                                                <span data-ng-bind="food.calories | number:0"></span> calories
                                            </div>

                                        </div>

                                        <div style="font-size: 12.5px" class="text-muted">
                                            <div>
                                                <span data-ng-bind="food.servings"></span> serving<span data-ng-show="food.servings > 1">s</span>,
                                                <span data-ng-bind="food.grams | number:0"></span> grams
                                            </div>

                                        </div>



                                    </li>
                                </ul>

                                <div style="padding-top: 9px; padding-top: 3px;color: rgb(66, 66, 207); font-weight: bold;font-size: 12.5px;border-top: 1px solid lightgray;" data-ng-show="meal.foods && meal.foods.length > 0">

                                    <div style="width: 42px; display:inline-block;color:rgb(46, 46, 141)">Totals:</div>

                                    <div style="display:inline-block;">

                                        <span  data-ng-bind="meal.totalCalories | number:0"></span> Calories


                                    </div>

                                    <div >
                                        <div style="width: 42px; display:inline-block;">&nbsp;</div>
                                        <div style="display:inline-block;padding-right:6px;" class="carbsColorLbl">
                                            <span>Carbs: </span><span data-ng-bind="meal.totalCarbohydrates | number:0"></span><span>g</span>
                                        </div>
                                        <div style="display:inline-block;padding-right:6px;" class="proteinColorLbl">
                                            <span>Protein: </span><span data-ng-bind="meal.totalProtein | number:0"></span><span>g</span>
                                        </div>
                                        <div style="display:inline-block;" class="fatColorLbl">
                                            <span>Fat: </span><span data-ng-bind="meal.totalFat | number:0"></span><span>g</span>
                                        </div>
                                    </div>
                                </div>



                            </div>

                            <div class="emptyDataTxt" data-ng-show="!meal.foods || meal.foods.length == 0">
                                No food logged for meal
                            </div>

                            <table class="table hidden-xs hidden-sm" data-ng-show="meal.foods.length > 0"  style="margin-top: 6px;width:100%;">
                                <thead>
                                <tr>
                                    <th width="30%">Name</th>
                                    <!--<th width="7%">Type</th>-->
                                    <th style="min-width: 40px;width: 10%;"> Servings</th>
                                    <th style="min-width: 40px;width: 10%;">Calories</th>
                                    <th style="min-width: 40px;width: 10%;">Carbs</th>
                                    <th style="min-width: 40px;width: 10%;">Protein</th>
                                    <th style="min-width: 40px;width: 10%;">Fat</th>
                                    <th style="min-width: 40px;width: 10%;">Sodium</th>
                                    <th style="min-width: 40px;width: 10%;">Grams</th>
                                    <th>&nbsp;</th>
                                </tr>
                                </thead>
                                <tbody>

                                <tr class="planGridRow"   data-ng-repeat="food in meal.foods" data-ng-class="{mealSuggestedHighlight: food.IsSuggested}"
                                    data-ng-click="createFoodWithDialog(meal, food);" data-ng-mouseover="food.showEditIcon = true" data-ng-mouseleave="food.showEditIcon = false">
                                    <td style="padding-right: 10px;padding-left:5px;">

                                        <div class="controls">
                                            <span data-ng-bind="food.selectedFood.name"></span>

                                        </div>
                                    </td>

                                    <td>

                                        <div class="controls" style="width: 70px;" >
                                            <span data-ng-bind="food.servings"></span>
                                        </div>
                                    </td>
                                    <td>
                                        <div class="controls" style="width: 60px;">
                                            <span data-ng-bind="food.calories | number:0"></span>
                                        </div>
                                    </td>
                                    <td>
                                        <div class="controls" style="width: 60px;">
                                            <span data-ng-bind="food.carbohydrates | number:1"></span>g
                                        </div>
                                    </td>
                                    <td>
                                        <div class="controls" style="width: 60px;">
                                            <span data-ng-bind="food.protein | number:1"></span>g
                                        </div>
                                    </td>
                                    <td>
                                        <div class="controls" style="width: 60px;">
                                            <span data-ng-bind="food.fat | number:1"></span>g
                                        </div>
                                    </td>
                                    <td>
                                        <div class="controls" style="width: 60px;">
                                            <span data-ng-bind="food.sodium | number:0"></span>mg
                                        </div>
                                    </td>
                                    <td>
                                        <div class="controls" style="width: 60px;">
                                            <span data-ng-bind="food.grams | number:1"></span>g
                                        </div>
                                    </td>

                                    <td>
                                        <!--<div style="padding-right:5px;">-->
                                            <!--<span tooltip="Delete Food" class="deleteBtn" data-ng-click="deleteFood(food, meal);">x</span>-->
                                        <!--</div>-->

                                        <div style="display:inline-block;width:40px;">
                                            <div style="padding-right:5px;cursor:pointer;float:right;height: 14px !important;" data-ng-click="deleteFood(food, meal);" type="button" data-ng-class="{editRowShow: food.showEditIcon && !food.isEditable}"  class="editRowHide">
                                                <span  class="glyphicon glyphicon-trash"></span>
                                            </div>
                                        </div>
                                    </td>
                                </tr>

                                <tr style="font-weight: bold;color: rgb(33, 51, 184);border-top: 1px solid lightgray;">
                                    <td>
                                        Totals:
                                    </td>
                                    <td>
                                        &nbsp;
                                    </td>
                                    <!--<td>-->
                                        <!--&nbsp;-->
                                    <!--</td>-->
                                    <td>
                                        <span data-ng-bind="meal.totalCalories | number:0"></span>
                                    </td>
                                    <td>
                                        <span data-ng-bind="meal.totalCarbohydrates | number:1"></span>g
                                    </td>
                                    <td>
                                        <span data-ng-bind="meal.totalProtein | number:1"></span>g
                                    </td>
                                    <td>
                                        <span data-ng-bind="meal.totalFat | number:1"></span>g
                                    </td>
                                    <td>
                                        <span data-ng-bind="meal.totalSodium | number:0"></span>mg
                                    </td>
                                    <td>
                                        &nbsp;
                                    </td>
                                </tr>
                                </tbody>
                            </table>
                        </div>
                    </accordion-group>
                </accordion>




            </div>


        </fieldset>



        <div data-ng-show="error" class="text-danger">
            <strong data-ng-bind="error"></strong>
        </div>

    </form>

    <div class="planFooter" style="margin-right: -15px;margin-left: -15px;">
        <table style="border-top: 1px solid lightgray;display: inline-block;" id="footer">
            <thead>
            <tr>
                <th class="plansDesktopInlineGrid" width="316px">&nbsp;</th>
                <th data-ng-show="currentDeficit >= 0" width="90px">Deficit </th>
                <th data-ng-show="currentDeficit < 0" width="90px">Surplus </th>
                <th width="90px">Calories </th>
                <th width="40px" style="border-left: 1px solid lightgray;">&nbsp;</th>
                <th class="carbsColorLbl" width="90px">Carbs</th>
                <th class=proteinColorLbl" width="90px">Protein</th>
                <th class="fatColorLbl" width="130px">Fat</th>
            </tr>
            </thead>
            <tbody>
            <tr style="font-weight:bold;" data-ng-show="showTotalsAsPercent == false">
                <td class="plansDesktopInlineGrid" style="padding-right: 15px;">
                    <span style="font-weight:bold;">Totals:</span>
                </td>
                <td style="color: rgb(33, 51, 184);">
                    <span data-ng-show="currentDeficit >= 0" data-ng-bind="(currentDeficit || 0) | number:0"></span>
                    <span data-ng-show="currentDeficit < 0" data-ng-bind="-(currentDeficit || 0) | number:0"></span>
                </td>

                <td style="color: rgb(33, 51, 184);">
                    <span data-ng-bind="plan.totalPlanCalories | number:0"></span>
                </td>
                <td style="color: rgb(33, 51, 184);border-left: 1px solid lightgray;">
                    <span >&nbsp;</span>
                </td>
                <td class="carbsColor">
                    <span data-ng-bind="plan.totalPlanCarbs | number:1"></span>g
                </td>
                <td class="proteinColor" >
                    <span data-ng-bind="plan.totalPlanProtein | number:1"></span>g
                </td>
                <td class="fatColor">
                    <span data-ng-bind="plan.totalPlanFat | number:1"></span>g
                </td>

            </tr>
            <tr style="font-weight:bold;" data-ng-show="showTotalsAsPercent">
                <td class="plansDesktopInlineGrid">
                    <span style="font-weight:bold;">Totals:</span>
                </td>
                <td style="color: rgb(33, 51, 184);">
                    <span data-ng-show="currentDeficit >= 0" data-ng-bind="(currentDeficit) | number:0"></span>
                    <span data-ng-show="currentDeficit < 0" data-ng-bind="-(currentDeficit) | number:0"></span>
                </td>
                <td style="color: rgb(33, 51, 184);">
                    <span data-ng-bind="plan.totalPlanCalories | number:0"></span>
                </td>
                <td  style="color: rgb(33, 51, 184);">
                    <span style="border-left: 1px solid lightgray;">&nbsp;</span>
                </td>
                <td class="carbsColor">
                    <span data-ng-bind="plan.totalPlanCarbsAsPercent | number:1"></span>%
                </td>
                <td class="proteinColor">
                    <span data-ng-bind="plan.totalPlanProteinAsPercent | number:1"></span>%
                </td>
                <td class="fatColor">
                    <span data-ng-bind="plan.totalPlanFatAsPercent | number:1"></span>%
                </td>

            </tr>
            </tbody>
        </table>
        <div style="display:inline-block; position:relative; bottom:6px;margin-top:10px">
            <label for="radioBtnShowPercent">%</label>
            <input type="radio" id="radioBtnShowPercent" name="totalsRadioBtn" style="margin-right: 20px;" data-ng-click="toggleTotalsAsPercent()" checked="checked"/>

            <label for="radioBtnHidePercent">Grams</label>
            <input type="radio" id="radioBtnHidePercent" name="totalsRadioBtn" data-ng-click="toggleTotalsAsPercent()" />
        </div>
    </div>

</div>


    <script type="text/ng-template" id="createFoodModalContent.html">
        <div class="modal-header" style="font-family: segui;">
            <h3 class="modal-title" data-ng-show="!showFoodDetails">Select Food To Add</h3>
            <div data-ng-show="showFoodDetails" >
                <h3 class="modal-title" >
                    <span style="font-weight: bold;" data-ng-bind="selected.foodToAdd.name"></span>

                </h3>
            </div>
            <div style="position: relative;top: 5px;">
                <a class="ActionLink" data-ng-show="showFoodDetails"   data-ng-click="changeFood()">Change Food</a>
            </div>
        </div>
        <div style="font-family: segui;padding-left: 10px;padding-bottom:10px;" >
            <div style="display:inline-block;">
                <div data-ng-show="showCreateMealSection" style="margin-top: 10px;">
                    Select Meal Type:
                    <select data-ng-model="selected.mealType" data-ng-change="showCreateMealSection = false;" data-ng-options="t.id as t.name for t in mealTypes" style="font-size:16px;"></select>
                    <!--<input type="text" data-ng-model="selected.mealType" data-ng-change="showCreateMealSection = false;"/>-->
                </div>

                <div data-ng-show="!showCreateMealSection">
                    <div data-ng-show="!showFoodDetails" style="margin-top: 10px;">
                        <div style="margin-bottom: 10px;">

                            <div style="vertical-align: top;display:inline-block;">
                                <input placeholder="Enter Food Name" style="width: 140px;" type="text" data-ng-change="foodInputChange()" data-ng-model="selected.foodSearchTxt"  />
                                <a class="ActionLink clearInputLink" data-ng-click="clearFoodInput()">Clear</a>
                            </div>

                            <div style="display:inline-block; margin-left:25px;font-weight: normal;">
                                <div >

                                    <input id="myFoodsInput" type="radio" data-ng-change="radioBtnCheckedChange('myFoods')" value="myFoods" checked="checked" name="foodsCheckbox" data-ng-model="foodsRadioBtn"/>
                                    <label for="myFoodsInput">My Foods</label>
                                </div>
                                <div >

                                    <input id="allFoodsInput" type="radio" data-ng-change="radioBtnCheckedChange('allFoods')" value="allFoods"  name="foodsCheckbox"  data-ng-model="foodsRadioBtn"/>
                                    <label for="allFoodsInput">All Foods</label>
                                </div>
                            </div>
                        </div>


                        <div class="searchLetters hidden-xs">
                            <span data-ng-click="findFoodsByLetter('a')">A</span>
                            <span data-ng-click="findFoodsByLetter('b')">B</span>
                            <span data-ng-click="findFoodsByLetter('c')">C</span>
                            <span data-ng-click="findFoodsByLetter('d')">D</span>
                            <span data-ng-click="findFoodsByLetter('e')">E</span>
                            <span data-ng-click="findFoodsByLetter('f')">F</span>
                            <span data-ng-click="findFoodsByLetter('g')">G</span>
                            <span data-ng-click="findFoodsByLetter('h')">H</span>
                            <span data-ng-click="findFoodsByLetter('i')">I</span>
                            <span data-ng-click="findFoodsByLetter('j')">J</span>
                            <span data-ng-click="findFoodsByLetter('k')">K</span>
                            <span data-ng-click="findFoodsByLetter('l')">L</span>
                            <span data-ng-click="findFoodsByLetter('m')">M</span>
                            <span data-ng-click="findFoodsByLetter('n')">N</span>
                            <span data-ng-click="findFoodsByLetter('o')">O</span>
                            <span data-ng-click="findFoodsByLetter('p')">P</span>
                            <span data-ng-click="findFoodsByLetter('q')">Q</span>
                            <span data-ng-click="findFoodsByLetter('r')">R</span>
                            <span data-ng-click="findFoodsByLetter('s')">S</span>
                            <span data-ng-click="findFoodsByLetter('t')">T</span>
                            <span data-ng-click="findFoodsByLetter('u')">U</span>
                            <span data-ng-click="findFoodsByLetter('v')">V</span>
                            <span data-ng-click="findFoodsByLetter('w')">W</span>
                            <span data-ng-click="findFoodsByLetter('x')">X</span>
                            <span data-ng-click="findFoodsByLetter('y')">Y</span>
                            <span data-ng-click="findFoodsByLetter('z')">Z</span>
                        </div>

                        <div class="searchLetters visible-xs mobileSearchLetters">
                            <span data-ng-click="findFoodsByLetter('a')">A</span>
                            <span data-ng-click="findFoodsByLetter('b')">B</span>
                            <span data-ng-click="findFoodsByLetter('c')">C</span>
                            <span data-ng-click="findFoodsByLetter('d')">D</span>
                            <span data-ng-click="findFoodsByLetter('e')">E</span>
                            <span data-ng-click="findFoodsByLetter('f')">F</span>
                            <span data-ng-click="findFoodsByLetter('g')">G</span>
                            <span data-ng-click="findFoodsByLetter('h')">H</span>
                            <span data-ng-click="findFoodsByLetter('i')">I</span>
                            <span data-ng-click="findFoodsByLetter('j')">J</span>
                            <span data-ng-click="findFoodsByLetter('k')">K</span>
                            <span data-ng-click="findFoodsByLetter('l')">L</span>
                            <span data-ng-click="findFoodsByLetter('m')">M</span>
                            <span data-ng-click="findFoodsByLetter('n')">N</span>
                            <span data-ng-click="findFoodsByLetter('o')">O</span>
                            <span data-ng-click="findFoodsByLetter('p')">P</span>
                            <span data-ng-click="findFoodsByLetter('q')">Q</span>
                            <span data-ng-click="findFoodsByLetter('r')">R</span>
                            <span data-ng-click="findFoodsByLetter('s')">S</span>
                            <span data-ng-click="findFoodsByLetter('t')">T</span>
                            <span data-ng-click="findFoodsByLetter('u')">U</span>
                            <span data-ng-click="findFoodsByLetter('v')">V</span>
                            <span data-ng-click="findFoodsByLetter('w')">W</span>
                            <span data-ng-click="findFoodsByLetter('x')">X</span>
                            <span data-ng-click="findFoodsByLetter('y')">Y</span>
                            <span data-ng-click="findFoodsByLetter('z')">Z</span>
                        </div>

                        <div data-ng-show="!isLoading" class="list-group" style="margin-bottom: 0px; !important;" data-ng-repeat="food in foods">
                            <a class="list-group-item actionRow" data-ng-click="foodSelectionChange(food)">
                                <span data-ng-bind="food.name"></span>

                            </a>
                        </div>

                        <div data-ng-show="isLoading" style="height: 336px;">
                            <img width="25" height="25" src="/modules/core/img/loaders/loader.gif">
                        </div>

                        <div>
                            <span style="color:blue;padding-left:5px;" data-ng-show="!foods || foods.length == 0">There are no foods returned</span>
                        </div>

                        <div style="margin-top: 10px;display:inline-block;margin-right: 5px;" data-ng-show="foods && skipFoods > 0">
                            <a class="ActionLink" data-ng-click="prevFoods();">Previous</a>
                        </div>
                        <div style="margin-top: 10px;display:inline-block" data-ng-show="foods && foods.length == 8">
                            <a class="ActionLink" data-ng-click="nextFoods();">Next</a>
                        </div>

                    </div>
                    <div  data-ng-show="showFoodDetails">
                        <div style="display:inline-block">
                            <div style="display:inline-block;">
                                <div style="font-weight: bold;">
                                    Servings:
                                </div>

                                <input style="width: 80px;" data-ng-change="servingsChange()" data-ng-model="selected.servings" type="text"/>
                            </div>
                            <div style="margin-top: 20px;display:inline-block;padding-left:35px;padding-right: 20px;">
                                <div style="font-weight:bold;">Calories:</div>
                                <span style="font-size: 18px;" data-ng-bind="selected.caloriesDisplay | number: 0"></span>
                            </div>

                            <div style="display:inline-block;">
                                <div style="padding-top:10px;" data-ng-show="foodServingTypes && foodServingTypes.length > 1">
                                    <span style="font-weight: bold;position: relative;bottom: 3px;">Serving Desc.:</span>
                                    <br/>
                                    <select style="font-size:18px;" data-ng-model="selected.servingType" data-ng-change="servingTypeChange();"
                                            ng-options="t.id as t.description for t in foodServingTypes"></select>
                                </div>
                            </div>

                            <div style="display:inline-block;">
                                <div style="padding-top:10px;" data-ng-show="foodServingTypes && foodServingTypes.length <= 1">
                                    <span style="font-weight: bold;">Serving Desc.:</span>
                                    <br/>
                                    <span style="font-size: 18px;"  data-ng-bind="selected.foodToAdd.servingDescription1"></span>
                                </div>
                            </div>
                            <!--<div style="margin-top: 20px;display:inline-block;padding-left:40px;"-->
                               <!--data-ng-show="selected.foodToAdd ? selected.foodToAdd.servingDescription.toLowerCase() !== '1 serving' : selected.servingDescription.toLowerCase() !== '1 serving'">-->
                                <!--<div>-->
                                    <!--<span style="font-weight:bold">1 Serving: </span>-->
                                <!--</div>-->
                                <!--<span style="font-size: 18px;" data-ng-bind="selected.foodToAdd ? selected.foodToAdd.servingDescription : selected.servingDescription"></span>-->
                            <!--</div>-->

                            <div>
                                <div style="padding-top: 7px;display:inline-block;">
                                    <div style="display:inline-block;padding-right:10px;">
                                        <div style="padding-top: 15px;color:rgb(36, 124, 36)">
                                            <span style="font-weight:bold;">Total Fat:</span>
                                            <span data-ng-bind="selected.fatDisplay | number: 1"></span>g
                                        </div>
                                        <div style="margin-left: 20px;">
                                            Saturated Fat:
                                            <span data-ng-bind="selected.saturatedFatDisplay | number: 0"></span>g
                                        </div>
                                        <div style="margin-left: 20px;">
                                            <span>Cholesterol:</span>
                                            <span data-ng-bind="selected.cholesterolDisplay | number: 0"></span>mg
                                        </div>
                                        <div >
                                            <span style="font-weight:bold;">Sodium:</span>
                                            <span data-ng-bind="selected.sodiumDisplay | number: 0"></span>mg
                                        </div>
                                    </div>
                                    <div style="display:inline-block;border-left: 1px solid lightgray;padding-left: 10px;">
                                        <div style="color:rgb(255, 127, 14)">
                                            <span style="font-weight:bold;">Total Carbs:</span>
                                            <span data-ng-bind="selected.carbsDisplay | number: 1"></span>g
                                        </div>
                                        <div style="margin-left: 20px;">
                                            Fiber:
                                            <span data-ng-bind="selected.fiberDisplay | number: 0"></span>g
                                        </div>
                                        <div style="margin-left: 20px;">
                                            Sugar:
                                            <span data-ng-bind="selected.sugarDisplay | number: 1"></span>g
                                        </div>
                                        <div style="color:rgb(31, 119, 180)">
                                            <span style="font-weight:bold;">Protein:</span>
                                            <span data-ng-bind="selected.proteinDisplay | number: 1"></span>g
                                        </div>
                                    </div>
                                </div>


                            </div>
                        </div>

                        <div class="dekstopMediumWindowWidth" id="foodMacrosChart" style="vertical-align: top;margin-left:40px;" ></div>

                    </div>

                </div>





            </div>

        </div>


        <div class="modal-footer">
            <button class="btn btn-primary" data-ng-show="!showCreateMealSection" ng-click="ok()">OK</button>
            <button class="btn btn-warning" ng-click="cancel()">Cancel</button>
        </div>
    </script>




    <script type="text/ng-template" id="myModalContent.html">
        <div class="modal-header" style="font-family: segui;">
            <h3 class="modal-title">Choose options to copy</h3>
        </div>
        <div class="modal-body" style="font-family: segui;">

            <div style="font-weight: bold;">
                Select Meals:
            </div>
            <div style="border: 1px solid lightgray;width: 49%;">
                <div class="plansMobileGrid" style="max-height: 140px; overflow:auto;">
                    <div data-ng-repeat="mealType in dialogMealsShort" >
                        <input type="checkbox" checklist-model="selected.meals" checklist-value="mealType.id"> {{mealType.type}}
                    </div>
                </div>

                <div class="plansDesktopGrid">
                    <select data-ng-model="selected.meals" multiple="multiple" ng-options="t.id as t.type for t in dialogMealsShort" style="font-size: 16px;vertical-align: top;width: 170px;"></select>
                </div>

            </div>


            <div style="margin-top: 30px;padding-top: 8px;">

                <!--<div style="display:inline-block; width: 100px;vertical-align: top;padding-top:5px;">-->
                   <!--Plan Date:-->
                <!--</div>-->
               <span style="font-weight: bold;"> Plan Date:</span>
                <div style="width: 170px;">
                    <p class="input-group">
                      <input type="text" class="form-control" id="copyPlanDate" datepicker-popup="{{format}}" data-ng-model="selected.planDate" data-ng-change="copyPlanDateChange" is-open="dialogPlanDateOpened" min-date="minDate" max-date="'2015-06-22'" datepicker-options="copyPlanDateOptions" date-disabled="disabled(date, mode)" ng-required="true" close-text="Close" />
                      <span class="input-group-btn">
                        <button type="button" class="btn btn-default" ng-click="dialogOpenCopyPlanDate($event, 'dialogPlanDateOpened')"><i class="glyphicon glyphicon-calendar"></i></button>
                      </span>
                    </p>
                </div>
            </div>


        </div>
        <div class="modal-footer">
            <button style="float: left;" class="btn btn-primary" ng-click="selectAllMeals()">All Meals</button>
            <button class="btn btn-primary" ng-click="ok()">OK</button>
            <button class="btn btn-warning" ng-click="cancel()">Cancel</button>
        </div>
    </script>

    <script type="text/ng-template" id="suggestionsModalContent.html">
        <div class="modal-header" style="font-family: segui;">
            <h3 class="modal-title">Choose From Suggested Food</h3>
        </div>
        <div class="modal-body" style="font-family: segui;">

            <div style="font-weight: bold;">
                Suggested Foods (Top 5):
            </div>
            <div class="suggestedFoodsTable">
                <div  data-ng-repeat="suggestedFood in suggestedFoods">
                    <div class="suggestedFood" data-ng-click="selectedFoodClick(suggestedFood)" data-ng-class="{suggestedFoodSelected: selectedFood._id === suggestedFood._id}">
                        {{suggestedFood.name}}
                    </div>
                </div>
            </div>
        </div>
        <div class="modal-footer">
            <button class="btn btn-primary" ng-click="ok()">OK</button>
            <button class="btn btn-warning" ng-click="cancel()">Cancel</button>
        </div>
    </script>

    <script type="text/ng-template" id="notesModalContent.html">
        <div class="modal-header" style="font-family: segui;">
            <h3 class="modal-title">Edit Plan Notes</h3>
        </div>
        <div class="modal-body" style="font-family: segui;">

            <div style="font-weight: bold;">
                Notes:
            </div>
            <div>
                <textarea style="width: 100%;height: 100px;" data-ng-model="selected.notesToSave">

                </textarea>
            </div>
        </div>
        <div class="modal-footer">
            <button class="btn btn-primary" ng-click="ok()">OK</button>
            <button class="btn btn-warning" ng-click="cancel()">Cancel</button>
        </div>
    </script>

    <script>
        jQuery(document).ready(function(){

            window.setTimeout(function(){
                jQuery('.panel-group').find('.panel-default').addClass('disabled');
            }, 1000)

        });
    </script>

</section>
